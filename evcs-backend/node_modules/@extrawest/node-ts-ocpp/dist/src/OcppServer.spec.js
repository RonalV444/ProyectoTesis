"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var globals_1 = require("@jest/globals");
var OcppServer_1 = require("./OcppServer");
globals_1.jest.mock("./impl/Server");
var server;
describe("Test listen method functionality", function () {
    beforeEach(function () {
        server = new OcppServer_1.OcppServer();
        globals_1.jest.clearAllMocks();
    });
    it("Should listen OcppServer with port parameter", function () {
        server.listen(3000);
        expect(server.listen).toBeCalled();
        expect(server.listen).toBeCalledTimes(1);
        expect(server.listen).toBeCalledWith(3000);
    });
    it("Should listen OcppServer without port parameter", function () {
        server.listen();
        expect(server.listen).toBeCalled();
        expect(server.listen).toBeCalledTimes(1);
        expect(server.listen).toBeCalledWith();
    });
});
describe("Test method \"On\"", function () {
    beforeEach(function () {
        server = new OcppServer_1.OcppServer();
        globals_1.jest.clearAllMocks();
    });
    it("Should run method on correctly", function () {
        globals_1.jest.spyOn(server, "on");
        server.on("connection", globals_1.jest.fn());
        expect(server.on).toBeCalled();
        expect(server.on).toBeCalledTimes(1);
        expect(server.on).toBeCalledWith("connection", expect.any(Function));
    });
});
